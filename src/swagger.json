{
  "openapi": "3.1.0",
  "info": {
    "title": "Motir√µ Study System - MSS",
    "description": "Class scheduling system.",
    "version": "2.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:5000/api/v1",
      "description": "API"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Register",
        "description": "This route register a new user",
        "tags": ["Register"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Register"
              },
              "examples": {
                "Register": {
                  "value": {
                    "name": "Noah Doe",
                    "email": "noah@gmail.com",
                    "password": "1S2G4Jds98",
                    "role": "admin"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "Register": {
                    "value": {
                      "id": "650394f4ed4d999ac948ba0f",
                      "name": "Noah Doe",
                      "role": "admin"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error: Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Invalid role": {
                    "value": {
                      "error": "Invalid role"
                    }
                  },
                  "Validation error": {
                    "value": {
                      "error": "Validator failed for path `email` with value `noahgmail.com`"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": "string"
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Error: Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Email already registered": {
                    "value": {
                      "error": "Provided email is already registered"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "summary": "Login",
        "description": "This route logs in a registered user",
        "tags": ["Login"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Login"
              },
              "examples": {
                "Login": {
                  "value": {
                    "email": "noah@gmail.com",
                    "password": "1S2G4Jds98"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Logged In",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                },
                "examples": {
                  "Login": {
                    "value": {
                      "id": "650394f4ed4d999ac948ba0f",
                      "name": "Noah Doe",
                      "role": "admin"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Error: Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Missing credentials": {
                    "value": {
                      "error": "Missing credentials"
                    }
                  },
                  "Incorrect credentials": {
                    "value": {
                      "error": "The email or password is invalid"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "get": {
        "summary": "Logout",
        "description": "This route logs a user out",
        "tags": ["Logout"],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/admin": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create a admin",
        "description": "This route creates a admin",
        "tags": ["Admin"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Admin"
              },
              "examples": {
                "Admin": {
                  "value": {
                    "name": "Admin User",
                    "email": "admin@gmail.com",
                    "password": "1S2G4Jds98"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Admin"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Get all admins",
        "description": "This route get all admins",
        "tags": ["Admin"],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Admin"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/admin/{id}": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Get one admin by id",
        "description": "This route get one admin by id",
        "tags": ["Admin"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Admin id for the search",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type:": "object",
                  "$ref": "#/components/schemas/Admin"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Admin not found": {
                    "value": {
                      "error": "Admin not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Updates a admin",
        "description": "This route updates a admin by id",
        "tags": ["Admin"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Admin id for update",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Admin"
              },
              "examples": {
                "Admin": {
                  "value": {
                    "name": "Admin User",
                    "email": "admin@gmail.com",
                    "password": "1S2G4Jds98"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Admin updated"
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not found": {
                    "value": {
                      "error": "Admin not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Delete a admin",
        "description": "This route deletes a admin",
        "tags": ["Admin"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Admin id to be deleted",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Admin deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type:": "object",
                  "$ref": "#/components/schemas/Admin"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not found": {
                    "value": {
                      "error": "Admin not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/instructor": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create a instructor",
        "description": "This route creates a new instructor",
        "tags": ["Instructor"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Instructor"
              },
              "examples": {
                "Instructor": {
                  "value": {
                    "name": "Peter Doe",
                    "email": "peter@gmail.com",
                    "password": "1S2G4Jds98",
                    "specialty": ["Sciences", "Philosophy"],
                    "schedule": [
                      {
                        "date": "2023-08-28 15:00",
                        "busy": false
                      },
                      {
                        "date": "2023-10-28 19:00",
                        "busy": true
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Instructor"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Error: Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Email already registered": {
                    "value": {
                      "error": "Provided email is already registered"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Get all instructors",
        "description": "This route get all instructors",
        "tags": ["Instructor"],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Instructor"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/instructor/{id}": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Get one instructor by id",
        "description": "This route get one instructor by id",
        "tags": ["Instructor"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Instructor id",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type:": "object",
                  "$ref": "#/components/schemas/Instructor"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not found": {
                    "value": {
                      "error": "Instructor not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Updates a instructor",
        "description": "This route updates a instructor by id",
        "tags": ["Instructor"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Instructor id for update",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Instructor"
              },
              "examples": {
                "Instructor": {
                  "value": {
                    "name": "Peter Doe",
                    "email": "peter@gmail.com",
                    "password": "1S2G4Jds98",
                    "specialty": ["Sciences", "Philosophy"],
                    "schedule": [
                      {
                        "date": "2023-08-28 15:00",
                        "busy": false
                      },
                      {
                        "date": "2023-10-28 19:00",
                        "busy": true
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not found": {
                    "value": {
                      "error": "Instructor not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Delete a instructor",
        "description": "This route deletes a instructor",
        "tags": ["Instructor"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Instructor id to be deleted",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Success"
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not found": {
                    "value": {
                      "error": "Instructor not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/student": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create a student",
        "description": "This route creates a student",
        "tags": ["Student"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Student"
              },
              "examples": {
                "student": {
                  "value": {
                    "name": "Lucas Dionizio",
                    "email": "lucas@gmail.com",
                    "password": "1S2G4Jds98"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Get all students",
        "description": "This route get all students",
        "tags": ["Student"],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/student/{id}": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Get one student by id",
        "description": "This route get one student by id",
        "tags": ["Student"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Student id for the search",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type:": "object",
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Student not found": {
                    "value": {
                      "error": "Student not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Updates a student",
        "description": "This route updates a student by id",
        "tags": ["Student"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Student id for update",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Student"
              },
              "examples": {
                "Student": {
                  "value": {
                    "name": "Lucas Dionizio",
                    "email": "lucas@gmail.com",
                    "password": "1S2G4Jds98"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Student updated"
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not found": {
                    "value": {
                      "error": "Student not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Delete a student",
        "description": "This route deletes a student",
        "tags": ["Student"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Student id to be deleted",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Student deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type:": "object",
                  "$ref": "#/components/schemas/Student"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not found": {
                    "value": {
                      "error": "Student not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/lesson/{id}/upload": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Upload a file",
        "description": "This route uploads a file and links it to a lesson",
        "tags": ["Lesson"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Lesson id to be uploaded to",
            "required": true
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "document": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Error: Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Invalid ID": {
                    "value": {
                      "error": "Invalid ID"
                    }
                  },
                  "No file uploaded": {
                    "value": {
                      "error": "No file was uploaded"
                    }
                  },
                  "Not a text file": {
                    "value": {
                      "error": "Not a text file"
                    }
                  },
                  "File exceeds size limit": {
                    "value": {
                      "error": "File exceeds 5MB"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Lesson not found": {
                    "value": {
                      "error": "Lesson not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/lesson": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Create a lesson",
        "description": "This route creates a lesson",
        "tags": ["Lesson"],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Lesson"
              },
              "examples": {
                "Lesson": {
                  "value": {
                    "instructorId": "instructorId",
                    "studentId": "studentId",
                    "dateId": "dateId"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Lesson"
                }
              }
            }
          },
          "400": {
            "description": "Error: Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Mismatch in IDs": {
                    "value": {
                      "error": "Mismatch in provided IDs"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Error: Conflict",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Schedule conflict": {
                    "value": {
                      "error": "A lesson is already booked for the requested schedule"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Get all lessons",
        "description": "This route get all lessons",
        "tags": ["Lesson"],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "$ref": "#/components/schemas/Lesson"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/lesson/{id}": {
      "get": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Get one lesson by id",
        "description": "This route get one lesson by id",
        "tags": ["Lesson"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Lesson id for the search",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type:": "object",
                  "$ref": "#/components/schemas/Lesson"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Lesson not found": {
                    "value": {
                      "error": "Lesson not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "summary": "Delete a lesson",
        "description": "This route deletes a lesson",
        "tags": ["Lesson"],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "Lesson id to be deleted",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Lesson deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type:": "object",
                  "$ref": "#/components/schemas/Lesson"
                }
              }
            }
          },
          "401": {
            "description": "Error: Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not logged in": {
                    "value": {
                      "error": "Not logged in"
                    }
                  },
                  "Session expired": {
                    "value": {
                      "error": "Session expired"
                    }
                  },
                  "Unauthorized": {
                    "value": {
                      "error": "Invalid authentication"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Error: Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Access denied": {
                    "value": {
                      "error": "Access denied"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Error: Not found",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Not found": {
                    "value": {
                      "error": "Lesson not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Error",
            "content": {
              "application/json": {
                "schema": {
                  "error": {
                    "type": "string"
                  }
                },
                "examples": {
                  "Internal server error": {
                    "value": {
                      "error": "Unexpected error"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Admin": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": ["admin"]
          }
        }
      },
      "Instructor": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "specialty": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "schedule": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "date": {
                  "type": "string"
                },
                "busy": {
                  "type": "boolean"
                },
                "id": {
                  "type": "string"
                }
              }
            }
          },
          "role": {
            "type": "string",
            "enum": ["instructor"]
          }
        }
      },
      "Student": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": ["student"]
          }
        }
      },
      "Lesson": {
        "type": "object",
        "properties": {
          "instructorId": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "id": {
                "type": "string"
              }
            }
          },
          "studentId": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "id": {
                "type": "string"
              }
            }
          },
          "dateId": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "id": {
                "type": "string"
              }
            }
          },
          "files": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string"
                },
                "path": {
                  "type": "string"
                },
                "uploadedBy": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "Register": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": ["admin", "student", "instructor"]
          }
        }
      },
      "Login": {
        "type": "object",
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "Logout": {}
    }
  },
  "securitySchemes": {
    "cookieAuth": {
      "type": "apiKey",
      "in": "cookie",
      "name": "token"
    }
  }
}
